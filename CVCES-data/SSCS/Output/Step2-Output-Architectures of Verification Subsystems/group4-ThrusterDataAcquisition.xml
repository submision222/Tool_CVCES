<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.6//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_6.dtd'>
<nta>
	<declaration>// Place global declarations here.
chan MeaAngStoIns,MeaAngLoadIns;
chan SunVisibleSignStoIns,SunVisibleSignLoadIns;
chan ThrusterpowerstateStoIns,ThrusterpowerstateLoadIns;
chan CurrentmodeLoadIns,CurrentmodeStoIns;
chan TriAttAngLoadIns,TriAttAngStoIns,TriAnguVelLoadIns,TriAnguVelStoIns;

chan TarAttAngLoadIns,TarAttAngStoIns,TarAnguVelLoadIns,TarAnguVelStoIns;

chan TriConQuaLoadIns,TriConQuaStoIns;
chan ThrComLogLoadIns,ThrComLogStoIns;

chan NextcyclemodeLoadIns,NextcyclemodeStoIns;

int NextMode;

double Suntimer;
clock SunAngle;
broadcast chan SunSensorpoweronSignal,SunSensorpoweroffSignal;
broadcast chan SunSensorpowerstateperIns,SunMeaAngperIns,SunVisibleSignperIns;
int[0,1] SunSensorpowerstate=0;
int[0,1] SunVisibleSign;
int[0,1] SunSensorpowerIns=0;
int[0,1] SunSensorpowerInsStoIns=0;



broadcast chan GyropoweronSignal,GyropoweroffSignal;
broadcast chan PulseCountperIns,GyropowerstateperIns;
int[0,1] Gyropowerstate=0;
int[0,1] GyropowerInsStoIns=0;
int[0,1] GyropowerIns=0;
int[0,1] AnguAngVelAnaStoIns=0;
int[0,1] PulseCountStoIns=0;

broadcast chan ThrusterpoweronSignal,ThrusterpoweroffSignal;
broadcast chan ThrusterpowerstateperIns;
int[0,1] Thrusterpowerstate=0;
int[0,1] ThrusterpowerInsStoIns=0;
int[0,1] ThrusterpowerIns=0;

broadcast chan RASMIns,PASMIns,RDSMIns,CSMIns;
broadcast chan RASMControl,PASMControl,RDSMControl,CSMControl;

//0:RDSM速率阻尼，1：PASM俯仰搜索，2：RASM滚动搜索，3：CSM对日巡航
int Currentmode=0;

broadcast chan InterrupttimerstartIns;
clock timer;
int Interruptcount=0;
broadcast chan Interruptsignal;


broadcast chan ControlOutput;
broadcast chan CSMTelcontrolIns;
broadcast chan RDSMTelcontrolIns;
broadcast chan TeldataTraIns;
broadcast chan CSMCommand,RDSMCommand;
int[0,1] TeldataStoIns=0;
int[0,1] TelMdata=0;

int[0,1] CSMC=0;
int[0,1] RDSMC=0;

int[0,1] PulsecountStoIns=0;

clock GDA_t;

chan PulseCountAcqIns;


chan GyropoweronInsStoIns,GyropoweroffInsStoIns,GyropoweronInsLoadIns,GyropoweroffInsLoadIns;
int[0,1] GyropoweronInsStoInsV,GyropoweroffInsStoInsV;

chan SunSensorpoweronInsStoIns,SunSensorpoweroffInsStoIns,SunSensorpoweronInsLoadIns,SunSensorpoweroffInsLoadIns;
int[0,1] SunSensorpoweronInsStoInsV,SunSensorpoweroffInsStoInsV;

chan ThrusterpoweronInsStoIns,ThrusterpoweroffInsStoIns,ThrusterpoweronInsLoadIns,ThrusterpoweroffInsLoadIns;
int[0,1] ThrusterpoweronInsStoInsV,ThrusterpoweroffInsStoInsV;

chan AnguVelAnaStoIns,AnguVelAnaLoadIns,GyropowerstateStoIns,GyropowerstateLoadIns;
</declaration>
	<template>
		<name>TriaxialControlThruster1</name>
		<location id="id0" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id1" x="-127" y="-93">
			<name x="-110" y="-102">SendCSM</name>
			<urgent/>
		</location>
		<location id="id2" x="-161" y="25">
			<name x="-238" y="34">SendRASM</name>
			<urgent/>
		</location>
		<location id="id3" x="-161" y="-93">
			<name x="-246" y="-119">SendRDSM</name>
			<urgent/>
		</location>
		<location id="id4" x="-127" y="25">
			<name x="-110" y="17">SendPASM</name>
			<urgent/>
		</location>
		<init ref="id0"/>
		<transition id="id5">
			<source ref="id4"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id6">
			<source ref="id0"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id7">
			<source ref="id3"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id8">
			<source ref="id0"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id9">
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id10">
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="synchronisation" x="-280" y="0">RASMControl?</label>
		</transition>
		<transition id="id11">
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id12">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id13">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id14">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-425" y="-25">ThrusterpoweroffSignal?</label>
			<nail x="-246" y="-8"/>
			<nail x="-272" y="-34"/>
		</transition>
		<transition id="id15">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-416" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-272" y="-42"/>
			<nail x="-238" y="-68"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster2</name>
		<location id="id16" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id17" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id18" x="-127" y="-93">
		</location>
		<location id="id19" x="-161" y="25">
		</location>
		<location id="id20" x="-161" y="-93">
		</location>
		<location id="id21" x="-127" y="25">
		</location>
		<init ref="id16"/>
		<transition id="id22">
			<source ref="id21"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id23">
			<source ref="id17"/>
			<target ref="id21"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id24">
			<source ref="id20"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id25">
			<source ref="id17"/>
			<target ref="id20"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id26">
			<source ref="id19"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id27">
			<source ref="id17"/>
			<target ref="id19"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id28">
			<source ref="id18"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id29">
			<source ref="id17"/>
			<target ref="id18"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id30">
			<source ref="id17"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id31">
			<source ref="id17"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id32">
			<source ref="id16"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster3</name>
		<location id="id33" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id34" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id35" x="-127" y="-93">
		</location>
		<location id="id36" x="-161" y="25">
		</location>
		<location id="id37" x="-161" y="-93">
		</location>
		<location id="id38" x="-127" y="25">
		</location>
		<init ref="id33"/>
		<transition id="id39">
			<source ref="id38"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id40">
			<source ref="id34"/>
			<target ref="id38"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id41">
			<source ref="id37"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id42">
			<source ref="id34"/>
			<target ref="id37"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id43">
			<source ref="id36"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id44">
			<source ref="id34"/>
			<target ref="id36"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id45">
			<source ref="id35"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id46">
			<source ref="id34"/>
			<target ref="id35"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id47">
			<source ref="id34"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id48">
			<source ref="id34"/>
			<target ref="id33"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id49">
			<source ref="id33"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster4</name>
		<location id="id50" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id51" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id52" x="-127" y="-93">
		</location>
		<location id="id53" x="-161" y="25">
		</location>
		<location id="id54" x="-161" y="-93">
		</location>
		<location id="id55" x="-127" y="25">
		</location>
		<init ref="id50"/>
		<transition id="id56">
			<source ref="id55"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id57">
			<source ref="id51"/>
			<target ref="id55"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id58">
			<source ref="id54"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id59">
			<source ref="id51"/>
			<target ref="id54"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id60">
			<source ref="id53"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id61">
			<source ref="id51"/>
			<target ref="id53"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id62">
			<source ref="id52"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id63">
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id64">
			<source ref="id51"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id65">
			<source ref="id51"/>
			<target ref="id50"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id66">
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster5</name>
		<location id="id67" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id68" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id69" x="-127" y="-93">
		</location>
		<location id="id70" x="-161" y="25">
		</location>
		<location id="id71" x="-161" y="-93">
		</location>
		<location id="id72" x="-127" y="25">
		</location>
		<init ref="id67"/>
		<transition id="id73">
			<source ref="id72"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id74">
			<source ref="id68"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id75">
			<source ref="id71"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id76">
			<source ref="id68"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id77">
			<source ref="id70"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id78">
			<source ref="id68"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id79">
			<source ref="id69"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id80">
			<source ref="id68"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id81">
			<source ref="id68"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id82">
			<source ref="id68"/>
			<target ref="id67"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id83">
			<source ref="id67"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster6</name>
		<location id="id84" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id85" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id86" x="-127" y="-93">
		</location>
		<location id="id87" x="-161" y="25">
		</location>
		<location id="id88" x="-161" y="-93">
		</location>
		<location id="id89" x="-127" y="25">
		</location>
		<init ref="id84"/>
		<transition id="id90">
			<source ref="id89"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id91">
			<source ref="id85"/>
			<target ref="id89"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id92">
			<source ref="id88"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id93">
			<source ref="id85"/>
			<target ref="id88"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id94">
			<source ref="id87"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id95">
			<source ref="id85"/>
			<target ref="id87"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id96">
			<source ref="id86"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id97">
			<source ref="id85"/>
			<target ref="id86"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id98">
			<source ref="id85"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id99">
			<source ref="id85"/>
			<target ref="id84"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id100">
			<source ref="id84"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster7</name>
		<location id="id101" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id102" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id103" x="-127" y="-93">
		</location>
		<location id="id104" x="-161" y="25">
		</location>
		<location id="id105" x="-161" y="-93">
		</location>
		<location id="id106" x="-127" y="25">
		</location>
		<init ref="id101"/>
		<transition id="id107">
			<source ref="id106"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id108">
			<source ref="id102"/>
			<target ref="id106"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id109">
			<source ref="id105"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id110">
			<source ref="id102"/>
			<target ref="id105"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id111">
			<source ref="id104"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id112">
			<source ref="id102"/>
			<target ref="id104"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id113">
			<source ref="id103"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id114">
			<source ref="id102"/>
			<target ref="id103"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id115">
			<source ref="id102"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id116">
			<source ref="id102"/>
			<target ref="id101"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id117">
			<source ref="id101"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster8</name>
		<location id="id118" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id119" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id120" x="-127" y="-93">
		</location>
		<location id="id121" x="-161" y="25">
		</location>
		<location id="id122" x="-161" y="-93">
		</location>
		<location id="id123" x="-127" y="25">
		</location>
		<init ref="id118"/>
		<transition id="id124">
			<source ref="id123"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id125">
			<source ref="id119"/>
			<target ref="id123"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id126">
			<source ref="id122"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id127">
			<source ref="id119"/>
			<target ref="id122"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id128">
			<source ref="id121"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id129">
			<source ref="id119"/>
			<target ref="id121"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id130">
			<source ref="id120"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id131">
			<source ref="id119"/>
			<target ref="id120"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id132">
			<source ref="id119"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id133">
			<source ref="id119"/>
			<target ref="id118"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id134">
			<source ref="id118"/>
			<target ref="id119"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster9</name>
		<location id="id135" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id136" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id137" x="-127" y="-93">
		</location>
		<location id="id138" x="-161" y="25">
		</location>
		<location id="id139" x="-161" y="-93">
		</location>
		<location id="id140" x="-127" y="25">
		</location>
		<init ref="id135"/>
		<transition id="id141">
			<source ref="id140"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id142">
			<source ref="id136"/>
			<target ref="id140"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id143">
			<source ref="id139"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id144">
			<source ref="id136"/>
			<target ref="id139"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id145">
			<source ref="id138"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id146">
			<source ref="id136"/>
			<target ref="id138"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id147">
			<source ref="id137"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id148">
			<source ref="id136"/>
			<target ref="id137"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id149">
			<source ref="id136"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id150">
			<source ref="id136"/>
			<target ref="id135"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id151">
			<source ref="id135"/>
			<target ref="id136"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster10</name>
		<location id="id152" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id153" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id154" x="-127" y="-93">
		</location>
		<location id="id155" x="-161" y="25">
		</location>
		<location id="id156" x="-161" y="-93">
		</location>
		<location id="id157" x="-127" y="25">
		</location>
		<init ref="id152"/>
		<transition id="id158">
			<source ref="id157"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id159">
			<source ref="id153"/>
			<target ref="id157"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id160">
			<source ref="id156"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id161">
			<source ref="id153"/>
			<target ref="id156"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id162">
			<source ref="id155"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id163">
			<source ref="id153"/>
			<target ref="id155"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id164">
			<source ref="id154"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id165">
			<source ref="id153"/>
			<target ref="id154"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id166">
			<source ref="id153"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id167">
			<source ref="id153"/>
			<target ref="id152"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id168">
			<source ref="id152"/>
			<target ref="id153"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster11</name>
		<location id="id169" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id170" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id171" x="-127" y="-93">
		</location>
		<location id="id172" x="-161" y="25">
		</location>
		<location id="id173" x="-161" y="-93">
		</location>
		<location id="id174" x="-127" y="25">
		</location>
		<init ref="id169"/>
		<transition id="id175">
			<source ref="id174"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id176">
			<source ref="id170"/>
			<target ref="id174"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id177">
			<source ref="id173"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id178">
			<source ref="id170"/>
			<target ref="id173"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id179">
			<source ref="id172"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id180">
			<source ref="id170"/>
			<target ref="id172"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id181">
			<source ref="id171"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id182">
			<source ref="id170"/>
			<target ref="id171"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id183">
			<source ref="id170"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id184">
			<source ref="id170"/>
			<target ref="id169"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id185">
			<source ref="id169"/>
			<target ref="id170"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>TriaxialControlThruster12</name>
		<location id="id186" x="-289" y="-34">
			<name x="-272" y="-42">Off</name>
		</location>
		<location id="id187" x="-161" y="-34">
			<name x="-195" y="-42">On</name>
		</location>
		<location id="id188" x="-127" y="-93">
		</location>
		<location id="id189" x="-161" y="25">
		</location>
		<location id="id190" x="-161" y="-93">
		</location>
		<location id="id191" x="-127" y="25">
		</location>
		<init ref="id186"/>
		<transition id="id192">
			<source ref="id191"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-119" y="-17">PASMIns!</label>
			<nail x="-127" y="-8"/>
		</transition>
		<transition id="id193">
			<source ref="id187"/>
			<target ref="id191"/>
			<label kind="synchronisation" x="-119" y="0">PASMControl?</label>
		</transition>
		<transition id="id194">
			<source ref="id190"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-246" y="-102">RDSMIns!</label>
			<nail x="-178" y="-76"/>
		</transition>
		<transition id="id195">
			<source ref="id187"/>
			<target ref="id190"/>
			<label kind="synchronisation" x="-272" y="-85">RDSMControl?</label>
		</transition>
		<transition id="id196">
			<source ref="id189"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-238" y="17">RASMIns!</label>
			<nail x="-178" y="8"/>
		</transition>
		<transition id="id197">
			<source ref="id187"/>
			<target ref="id189"/>
			<label kind="synchronisation" x="-272" y="0">RASMControl?</label>
		</transition>
		<transition id="id198">
			<source ref="id188"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-119" y="-68">CSMIns!</label>
			<nail x="-127" y="-59"/>
		</transition>
		<transition id="id199">
			<source ref="id187"/>
			<target ref="id188"/>
			<label kind="synchronisation" x="-119" y="-85">CSMControl?</label>
		</transition>
		<transition id="id200">
			<source ref="id187"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-119" y="-51">ThrusterpowerstateperIns?</label>
			<label kind="assignment" x="-119" y="-34">Thrusterpowerstate=1</label>
			<nail x="-119" y="-17"/>
			<nail x="-119" y="-51"/>
		</transition>
		<transition id="id201">
			<source ref="id187"/>
			<target ref="id186"/>
			<label kind="synchronisation" x="-331" y="-17">ThrusterpoweroffSignal?</label>
			<nail x="-187" y="-17"/>
			<nail x="-263" y="-17"/>
		</transition>
		<transition id="id202">
			<source ref="id186"/>
			<target ref="id187"/>
			<label kind="synchronisation" x="-331" y="-68">ThrusterpoweronSignal?</label>
			<nail x="-263" y="-51"/>
			<nail x="-187" y="-51"/>
		</transition>
	</template>
	<template>
		<name>StoreThrusterPonIns</name>
		<location id="id203" x="-9" y="-119">
			<name x="-43" y="-136">End</name>
		</location>
		<location id="id204" x="-136" y="-119">
			<name x="-119" y="-136">Start</name>
		</location>
		<init ref="id204"/>
		<transition id="id205">
			<source ref="id203"/>
			<target ref="id204"/>
			<nail x="-9" y="-85"/>
			<nail x="-136" y="-85"/>
		</transition>
		<transition id="id206">
			<source ref="id204"/>
			<target ref="id203"/>
			<label kind="synchronisation" x="-153" y="-153">ThrusterpoweronInsStoIns!</label>
		</transition>
	</template>
	<template>
		<name>StoreThrusterPoffIns</name>
		<location id="id207" x="-9" y="-119">
			<name x="-43" y="-136">End</name>
		</location>
		<location id="id208" x="-136" y="-119">
			<name x="-119" y="-136">Start</name>
		</location>
		<init ref="id208"/>
		<transition id="id209">
			<source ref="id207"/>
			<target ref="id208"/>
			<nail x="-9" y="-85"/>
			<nail x="-136" y="-85"/>
		</transition>
		<transition id="id210">
			<source ref="id208"/>
			<target ref="id207"/>
			<label kind="synchronisation" x="-153" y="-153">ThrusterpoweroffInsStoIns!</label>
		</transition>
	</template>
	<template>
		<name>ThrusterPowerInstruction</name>
		<location id="id211" x="-314" y="8">
			<name x="-374" y="0">StoOff</name>
		</location>
		<location id="id212" x="-170" y="-34">
			<name x="-178" y="-68">TPI</name>
		</location>
		<location id="id213" x="-25" y="8">
			<name x="-8" y="0">StoOn</name>
		</location>
		<init ref="id212"/>
		<transition id="id214">
			<source ref="id212"/>
			<target ref="id212"/>
			<label kind="synchronisation" x="-374" y="-93">ThrusterpoweroffInsLoadIns?</label>
			<label kind="assignment" x="-374" y="-76">ThrusterpoweroffInsStoInsV=0</label>
			<nail x="-17" y="-76"/>
			<nail x="-144" y="-76"/>
		</transition>
		<transition id="id215">
			<source ref="id212"/>
			<target ref="id212"/>
			<label kind="synchronisation" x="-136" y="-93">ThrusterpoweronInsLoadIns?</label>
			<label kind="assignment" x="-136" y="-76">ThrusterpoweronInsStoInsV=0</label>
			<nail x="-323" y="-76"/>
			<nail x="-195" y="-76"/>
		</transition>
		<transition id="id216">
			<source ref="id211"/>
			<target ref="id212"/>
			<label kind="assignment" x="-297" y="8">ThrusterpowerIns=0</label>
			<nail x="-187" y="8"/>
		</transition>
		<transition id="id217">
			<source ref="id212"/>
			<target ref="id211"/>
			<label kind="synchronisation" x="-374" y="-42">ThrusterpoweroffInsStoIns?</label>
			<label kind="assignment" x="-374" y="-25">ThrusterpoweroffInsStoInsV=1</label>
		</transition>
		<transition id="id218">
			<source ref="id213"/>
			<target ref="id212"/>
			<label kind="assignment" x="-161" y="8">ThrusterpowerIns=1</label>
			<nail x="-153" y="8"/>
		</transition>
		<transition id="id219">
			<source ref="id212"/>
			<target ref="id213"/>
			<label kind="synchronisation" x="-119" y="-42">ThrusterpoweronInsStoIns?</label>
			<label kind="assignment" x="-136" y="-25">ThrusterpoweronInsStoInsV=1</label>
		</transition>
	</template>
	<template>
		<name>ThrusterPowerControlOutput</name>
		<location id="id220" x="-204" y="68">
			<name x="-187" y="68">L1</name>
		</location>
		<location id="id221" x="-59" y="68">
			<name x="-42" y="68">Start</name>
		</location>
		<location id="id222" x="93" y="68">
			<name x="51" y="68">L2</name>
		</location>
		<location id="id223" x="-59" y="170">
			<name x="-69" y="136">End</name>
		</location>
		<init ref="id221"/>
		<transition id="id224">
			<source ref="id223"/>
			<target ref="id221"/>
		</transition>
		<transition id="id225">
			<source ref="id220"/>
			<target ref="id223"/>
			<label kind="synchronisation" x="-212" y="85">ThrusterpoweroffSignal!</label>
		</transition>
		<transition id="id226">
			<source ref="id221"/>
			<target ref="id220"/>
			<label kind="guard" x="-204" y="42">ThrusterpowerIns==0</label>
		</transition>
		<transition id="id227">
			<source ref="id222"/>
			<target ref="id223"/>
			<label kind="synchronisation" x="-51" y="85">ThrusterpoweronSignal!</label>
		</transition>
		<transition id="id228">
			<source ref="id221"/>
			<target ref="id222"/>
			<label kind="guard" x="-51" y="43">ThrusterpowerIns==1</label>
		</transition>
	</template>
	<template>
		<name>ThrusterDataAcquisition</name>
		<declaration>clock Tt;</declaration>
		<location id="id229" x="-391" y="68">
			<name x="-374" y="51">Start</name>
		</location>
		<location id="id230" x="-60" y="68">
			<name x="-102" y="51">End</name>
		</location>
		<init ref="id229"/>
		<transition id="id231">
			<source ref="id230"/>
			<target ref="id229"/>
			<label kind="synchronisation" x="-289" y="102">ThrusterpowerstateStoIns!</label>
			<nail x="-59" y="102"/>
			<nail x="-390" y="101"/>
		</transition>
		<transition id="id232">
			<source ref="id229"/>
			<target ref="id230"/>
			<label kind="synchronisation" x="-323" y="34">ThrusterpowerstateperIns!</label>
		</transition>
	</template>
	<template>
		<name>ThrusterData</name>
		<location id="id233" x="-42" y="0">
		</location>
		<init ref="id233"/>
		<transition id="id234">
			<source ref="id233"/>
			<target ref="id233"/>
			<label kind="synchronisation" x="-127" y="76">ThrusterpowerstateLoadIns?</label>
			<nail x="-76" y="68"/>
			<nail x="0" y="68"/>
		</transition>
		<transition id="id235">
			<source ref="id233"/>
			<target ref="id233"/>
			<label kind="synchronisation" x="-102" y="-76">ThrusterpowerstateStoIns?</label>
			<nail x="-85" y="-51"/>
			<nail x="0" y="-51"/>
		</transition>
	</template>
	<system>system TriaxialControlThruster1,TriaxialControlThruster2,TriaxialControlThruster3,TriaxialControlThruster4,
TriaxialControlThruster5,TriaxialControlThruster6,TriaxialControlThruster7,TriaxialControlThruster8,
TriaxialControlThruster9,TriaxialControlThruster10,TriaxialControlThruster11,TriaxialControlThruster12,
StoreThrusterPonIns,ThrusterPowerControlOutput,ThrusterDataAcquisition;
</system>
	<queries>
		<query>
			<formula>A[] not deadlock</formula>
			<comment/>
		</query>
	</queries>
</nta>
